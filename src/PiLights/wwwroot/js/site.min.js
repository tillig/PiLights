function pollSmartPlugStatus(){var n=!1;(function t(){$.ajax({url:"/power/status",dataType:"json"}).done(function(t){t.on?(n||(console.log("Power turned on."),n=!0),$("#powerForm").attr("action","/power/shutdown"),$(".power-off-button").show(),$(".power-on-button").hide()):(n&&(console.log("Power turned off."),n=!0),$("#powerForm").attr("action","/power/startup"),$(".power-on-button").show(),$(".power-off-button").hide())}).fail(function(n,t,i){console.log("Error: "+i)});setTimeout(t,1e3)})()}$(function(){$("#powerForm").submit(function(n){n.preventDefault();$.ajax({url:$("#powerForm").attr("action"),type:"post",data:$("#powerForm").serialize(),success:function(){$("#powerOnModal").modal("hide");$("#powerOffModal").modal("hide")}})});pollSmartPlugStatus()});